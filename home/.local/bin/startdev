#!/bin/sh


tmux has-session -t development

if [ $? != 0 ]; then
  tmux new-session -s development -n Editor -d

  # Open notes
  tmux send-keys -t development "vim -p $DROPBOX_DIR/documents/notes.txt" C-M
  tmux send-keys -t development ":TabooRename \"1-notes\"" C-M
  tmux send-keys -t development ":lcd $DROPBOX_DIR/documents" C-M

  # Open current directory
  tmux send-keys -t development ":tabedit $PWD" C-M
  tmux send-keys -t development ":TabooRename \"2-$(basename $PWD)\"" C-M
  tmux send-keys -t development ":lcd $PWD" C-M

  # select the desired tab
  tmux send-keys -t development '2gt'
fi
tmux attach -t development
